---
categories: graphics
tags: [graphics, opengl, tutorial]
toc: true
toc_sticky: true
author_profile: false
use_math: true 
thumbnail: images/image.png
---

## 그래픽스 파이프라인에서 삼각형 그리기 과정  


**자료 출처**: [LearnOpenGL](https://learnopengl.com/)


그래픽스 파이프라인에서 삼각형을 그리기 위한 과정은 다음과 같은 3가지 핵심 요소로 요약할 수 있다:

### 1. GPU에 데이터를 저장할 메모리 (VBO, EBO)
*   **VBO (Vertex Buffer Object)**: GPU에 정점 데이터를 저장하는 데 사용된다. 정점 데이터는 3D 모델의 위치 정보나 색상 정보 등을 포함할 수 있다.
*   **EBO (Element Buffer Object)**: 인덱스 데이터를 저장하는 데 사용된다. 여러 정점이 반복될 경우 인덱스를 통해 재사용하는 방식이다.
*   이 데이터를 GPU 메모리에 할당하여 저장한다. 이 작업은 `glGenBuffers`와 `glBindBuffer`로 처리된다.

### 2. 셰이더 프로그램 (버텍스 셰이더, 프래그먼트 셰이더)
*   **버텍스 셰이더**는 각 정점의 변환을 처리한다. 예를 들어, 모델을 화면에 그리기 위한 좌표 변환(모델, 뷰, 프로젝션 변환)을 수행한다.
*   **프래그먼트 셰이더**는 픽셀 색상 계산을 담당한다. 각 픽셀에 대한 색상, 텍스처 등을 계산한다.
*   이 셰이더 프로그램은 컴파일 후 링크하여 사용해야 하며, `glUseProgram` 함수로 활성화해야 한다.

### 3. 데이터와 셰이더 프로그램을 연결하는 과정
*   **버텍스 속성 연결**: `glVertexAttribPointer`와 `glEnableVertexAttribArray`를 사용하여 VBO에 저장된 데이터를 셰이더의 입력으로 연결한다.
    *   예를 들어, 위치 데이터는 버텍스 셰이더의 첫 번째 입력(`layout(location = 0)`)에 연결된다.
*   **셰이더 프로그램 사용**: 데이터를 처리할 셰이더 프로그램을 활성화한 후, 데이터를 셰이더와 연결하여 GPU에서 렌더링이 가능하게 한다.

### 전체 과정
1.  **버퍼 생성 및 데이터 전송**
    *   VBO와 EBO를 생성하고, 데이터를 GPU 메모리에 전송한다.
2.  **셰이더 프로그램 준비 및 활성화**
    *   버텍스 셰이더와 프래그먼트 셰이더를 준비하고, 이를 하나의 프로그램으로 링크하여 활성화한다.
3.  **버텍스 속성 연결 및 데이터 렌더링**
    *   셰이더 프로그램에 데이터를 연결하고, 렌더링을 위해 `glDrawArrays` 또는 `glDrawElements` 함수를 호출하여 그린다.

### 정리
그래픽 파이프라인에서 삼각형을 그리기 위해서는 GPU 메모리에 데이터를 저장하고, 셰이더 프로그램을 활성화하며, 버텍스 속성을 셰이더와 연결하는 과정이 필요하다. 이 세 가지 조건을 통해 OpenGL이 데이터를 처리하고 화면에 객체를 그릴 수 있게 된다.
